<div class="grid">
    <div class="col-12">
      <div
        class="card"
        style="
          background: radial-gradient(
            circle at 1.8% 4.8%,
            rgb(17, 23, 58) 0%,
            rgb(58, 85, 148) 90%
          );
        "
      >
        <h4 style="color: whitesmoke">Listagem de apoios socias</h4>
        <app-breadcrumb [items]="items"></app-breadcrumb>
      </div>
    </div>
</div>

  <div class="grid">
    <div class="col-12">
      <div class="card">
        <!--h5>Filter Menu</h5-->
        <p-table
        [lazy]="true"
        (onLazyLoad)="loadApoioSocial($event)"
        [totalRecords]="total"
        [loading]="loading"
        #table
        [value]="apoiosSociais"
        dataKey="id"
        [rows]="5"
        [rowsPerPageOptions]="[5, 10, 15, 20]"
        [rowHover]="true"
        styleClass="p-datatable-gridlines"
        [paginator]="true"
        responsiveLayout="scroll"
      >
        <!-- Cabeçalho -->
        <ng-template pTemplate="header">
          <tr>
            <th>Tipo de Natureza</th>
            <th>Morada</th>
            <th>Freguesia</th>
            <th>Nome Completo</th>
            <th>Data Criação</th>
            <th>Estado</th>
            <th>Detalhe</th>
          </tr>
        </ng-template>

        <!-- Corpo -->
        <ng-template pTemplate="body" let-apoiosocial>
          <tr>
            <td>{{ apoiosocial?.tipoNaturezaOcorrencia?.description }}</td>
            <td>{{ apoiosocial?.morada?.rua }}</td>
            <td>{{ apoiosocial?.morada?.freguesia?.description }}</td>
            <td>{{ apoiosocial.nomeCompleto ? apoiosocial.nomeCompleto : '-' }}</td>
            <td>{{ apoiosocial.creationDate | date: 'dd/MM/yyyy HH:mm' }}</td>
            <td>
              <i
                class="pi"
                [ngClass]="{
                  'true-icon pi-check-circle text-green-500': apoiosocial.status,
                  'false-icon pi-times-circle text-pink-500': !apoiosocial.status
                }"
              ></i>
            </td>
            <td (click)="goToDetail(apoiosocial.id)" style="cursor: pointer">
              <i class="pi pi-eye" style="color: slateblue"></i>
            </td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <tr>
              <td colspan="8">Nenhum apoio social encontrado.</td>
            </tr>
          </ng-template>
          <ng-template pTemplate="loadingbody">
            <tr>
              <td colspan="8">
                Carregando lista de apoios sociais. Por favor aguarde.
              </td>
            </tr>
          </ng-template>
      </p-table>

      </div>
    </div>
  </div>
